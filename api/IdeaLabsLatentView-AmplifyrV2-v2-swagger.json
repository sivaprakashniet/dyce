{"swagger":"2.0","info":{"version":"v2","title":"AmplifyrV2 API","description":"This is  APIs for AmplifyrV2"},"tags":[{"name":"authentication","description":"Authentication API"},{"name":"user","description":"Users API"},{"name":"file","description":"File API"}],"paths":{"/auth/google-oauth/{clientURI}":{"get":{"tags":["authentication"],"summary":"Returns an authentication token.","description":"Returns an authentication token","produces":["application/json"],"parameters":[{"name":"clientURI","in":"path","description":"Callback URI to get authentication token","required":true,"type":"string"}],"responses":{"200":{"description":"ok"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/_oauth-callback/{code}/{state}":{"get":{"tags":["authentication"],"summary":"Application callback from auth server","description":"Application callback from auth server to process the authorization code","produces":["application/json"],"parameters":[{"name":"code","in":"path","description":"Code to get access token","required":true,"type":"string"},{"name":"state","in":"path","description":"application call state","required":true,"type":"string"}],"responses":{"200":{"description":"Google oauth json response"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/authenticate-user/{authToken}/{URI}":{"get":{"tags":["authentication"],"summary":"Application callback to process auth token","description":"Application callback to process auth token and check user provisioning","produces":["application/json"],"parameters":[{"name":"authToken","in":"path","description":"Authentication token","required":true,"type":"string"},{"name":"URI","in":"path","description":"Registered Callback URI","required":true,"type":"string"}],"responses":{"200":{"description":"Google oauth json response"},"401":{"description":"Unauthorized"},"403":{"description":"Forbidden"}}}},"/auth/logout":{"get":{"tags":["authentication"],"summary":"Logs out current user","description":"Logs out current user based on the Authentication token","produces":["application/json"],"parameters":[{"name":"authorization","in":"header","type":"string","required":true}],"responses":{"200":{"description":"OK"},"401":{"description":"Unauthorized"}}}},"/users":{"get":{"tags":["user"],"summary":"Returns a list of users.","description":"Returns a List of Users","produces":["application/json"],"parameters":[{"name":"authorization","in":"header","type":"string","required":true}],"responses":{"200":{"description":"user response","schema":{"type":"array","items":{"$ref":"#/definitions/User"}}},"default":{"description":"unexpected error","schema":{"$ref":"#/definitions/errorModel"}}}}},"/users/{user_id}":{"get":{"tags":["user"],"summary":"Returns selected user information","description":"Returns selected user information","produces":["application/json"],"parameters":[{"name":"user_id","in":"path","description":"ID of user to fetch","required":true,"type":"integer","format":"int64"},{"name":"authorization","in":"header","type":"string","required":true}],"responses":{"200":{"description":"user response","schema":{"$ref":"#/definitions/User"}},"404":{"description":"user not found","schema":{"$ref":"#/definitions/errorModel"}}}}},"/files/upload/presignedurl/{user_id}/{filename}":{"get":{"tags":["file"],"summary":"Returns a presigned url","description":"Returns a presigned url for uploading a file to storage","produces":["application/json"],"parameters":[{"name":"user_id","in":"path","description":"User ID of user for which file has to be uploaded","required":true,"type":"integer","format":"int64"},{"name":"filename","in":"path","description":"Storage path of the file to be uploaded","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"type":"object","properties":{"data":{"type":"object","properties":{"presignedurl":{"type":"string","example":"https://amplifyr-users.s3.amazonaws.com/1c/old_file.csv"}}}}}},"401":{"description":"unauthorized","schema":{"$ref":"#/definitions/errorModel"}},"403":{"description":"forbidden from getting the url","schema":{"$ref":"#/definitions/errorModel"}},"500":{"description":"internal server error","schema":{"$ref":"#/definitions/errorModel"}}}}}},"definitions":{"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64","example":1},"first_name":{"type":"string","example":"firstname"},"last_name":{"type":"string","example":"lastname"},"username":{"type":"string","example":"username"},"email":{"type":"string","example":"sample"},"updated_at":{"type":"integer","format":"int64"},"created_at":{"type":"integer","format":"int64"}}},"errorModel":{"type":"object","required":["error"],"properties":{"error":{"type":"string"}}}},"responses":{"400Error":{"description":"Invalid request","schema":{"type":"object","properties":{"message":{"type":"string"}}}}},"schemes":["https"],"host":"virtserver.swaggerhub.com","basePath":"/IdeaLabsLatentView/AmplifyrV2/v2"}